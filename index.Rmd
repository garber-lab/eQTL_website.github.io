---
title: "eQTL Website"
---


```{r init, include=FALSE}
library(tidyverse)
# import package to allow R data objects to be displayed as tables on HTML pages
library(DT)
```


## Regular Gene-SNP table

```{r include=FALSE}
# init. filepath
path_to_genes <- "website/data/plots/"
# init. genes names to store in DF
genes <- list.files(path_to_genes)

# init. DF with gene and SNP combos
df <- tibble(
  gene = NA,
  snp = NA
)

for (gene in genes) {
  # init. vector of SNPs for each gene
  snps <- list.files(str_c(path_to_genes, gene))
  
  # init. temporary DF to store each gene-SNP combination
  temp_df <- tibble(gene = gene, snp = snps)
  
  # bind DF with temporary DF
  df <- bind_rows(df, temp_df)
}

df <- df %>% filter(!is.na(gene))

# df <- df %>%
#   filter(!is.na(gene)) %>%
#   datatable(escape = F, style = "auto")
```



```{r display table, echo=FALSE}
df_html <- df %>%
  datatable(escape = F, style = "auto")

df_html
```


---


## Feature-Selected Model: Phenotype CPM

```{r feature_selected_models, include=FALSE}
# read in different modeling results as tables
feat_select_CPM <- read_tsv("website/data/modeling_results/modeling_results_featureSelectedModel_phenotypeCPM.txt")

feat_select_CPM <- feat_select_CPM %>%
  left_join(
    df,
    by = c("GENE" = "gene", "SNP" = "snp")
  )
```


```{r echo=FALSE}
feat_select_CPM %>%
  datatable(escape = F, style = "auto")
```





